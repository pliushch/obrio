(this.webpackJsonpobrio=this.webpackJsonpobrio||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(11),c=n.n(a),s=n(19),i=n(33),o=n(25),u=n(64),j=n(65),l=n(51),p=n(8),b="FETCH_PLANETS_REQUESTED",d="FETCH_PLANETS_SUCCESS",O="FETCH_PLANETS_FAILURE",h="FETCH_PLANET_INFO_REQUESTED",f="FETCH_PLANET_INFO_SUCCESS",x="FETCH_PLANET_INFO_FAILURE",m="FETCH_PERSON_INFO_SUCCESS",g={loading:!1,error:!1,planetsList:[],count:0,next:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(Object(p.a)({},e),{},{loading:!0,error:!1});case d:var n=t.info,r=n.count,a=n.next,c=n.results;return Object(p.a)(Object(p.a)({},e),{},{loading:!1,planetsList:[].concat(Object(l.a)(e.planetsList),Object(l.a)(c)),count:r,next:a,error:!1});case O:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:!1});default:return e}},y={loading:!1,error:!1,planetInfo:{},personList:[]},E=Object(o.combineReducers)({planets:v,details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(p.a)(Object(p.a)({},e),{},{loading:!0,error:!1});case f:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,planetInfo:t.info,error:!1});case m:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,personList:t.info,error:!1});case x:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:!0});default:return e}}}),w=Object(o.createStore)(E,Object(j.composeWithDevTools)(Object(o.applyMiddleware)(u.a))),N=n(9),C=n(135),k=n(142),S=n(13),_=n.n(S),T=n(22),L=n(38),F=n.n(L),P=function(e){var t=e.match(/\/([0-9]*)\/$/);return t?t[1]:null},A=function(){var e=Object(T.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get(t);case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(p.a)(Object(p.a)({},r),{},{results:r.results.map(R)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(T.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("https://swapi.dev/api/planets".concat(t,"/"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(T.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(T.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("https://starwars-visualguide.com/assets/img/characters/".concat(t,".jpg"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){return{id:P(e.url),name:e.name,climate:e.climate,population:e.population}},D=function(){return{type:b}},B=function(e){return{type:d,info:e}},J=function(){return{type:O}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://swapi.dev/api/planets/";return function(){var t=Object(T.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(D()),t.prev=1,t.next=4,A(e);case 4:r=t.sent,n(B(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(J());case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Q=n(131),W=n(133),z=n(2),$=Object(Q.a)({root:{display:"block",width:"100%",textAlign:"center"}}),q=function(){var e=$();return Object(z.jsx)("div",{className:e.root,children:Object(z.jsx)(W.a,{color:"primary"})})},G=n(136),K=n(137),V=n(138),X=Object(Q.a)({root:{cursor:"pointer",textAlign:"center"}}),Y=function(e){var t=e.name,n=e.population,r=e.climate,a=e.handlePlanetClick,c=e.id,s=X();return Object(z.jsx)(C.a,{item:!0,xs:3,onClick:function(){return a(c)},children:Object(z.jsx)(G.a,{className:s.root,children:Object(z.jsxs)(K.a,{children:[Object(z.jsxs)(V.a,{children:["Name: ",t]}),Object(z.jsxs)(V.a,{children:["Climate: ",r]}),Object(z.jsxs)(V.a,{children:["Population: ",n]})]})})})},Z=n(139),ee=n(140),te=function(){var e=Object(s.c)((function(e){return e.planets})),t=(e.count-e.planetsList.length)/10;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Z.a,{position:"fixed",children:Object(z.jsx)(ee.a,{children:Object(z.jsx)(V.a,{variant:"h6",children:t?"".concat(t," pages left"):"no more pages"})})}),Object(z.jsx)(ee.a,{})]})},ne=Object(Q.a)({root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:"#c78f22"},text:{fontSize:"1.7rem"}}),re=function(){var e=ne();return Object(z.jsxs)("div",{className:e.root,children:[Object(z.jsx)("span",{className:e.text,children:"BOOM!"}),Object(z.jsx)("span",{children:"something has gone terribly wrong"}),Object(z.jsx)("span",{children:"(but we already sent droids to fix it)"})]})},ae=Object(Q.a)({button:{marginTop:"10px"}}),ce=function(){var e=ae(),t=Object(N.f)(),n=Object(s.b)(),a=Object(s.c)((function(e){return e.planets})),c=a.loading,i=a.error,o=a.planetsList,u=a.next,j=function(e){t.push(e)};return i?Object(z.jsx)(re,{}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(te,{}),Object(z.jsx)(C.a,{container:!0,spacing:2,children:o.map((function(e){return Object(r.createElement)(Y,Object(p.a)(Object(p.a)({},e),{},{key:e.id,handlePlanetClick:j}))}))}),c?Object(z.jsx)(q,{}):u&&Object(z.jsx)(k.a,{className:e.button,onClick:function(){if(!u)return!1;n(M(u))},variant:"contained",color:"primary",children:"Load more"})]})},se=n(50),ie=function(e){return{type:m,info:e}},oe=n(141),ue=function(e){var t=e.person;return t.name?Object(z.jsx)(G.a,{children:Object(z.jsxs)(K.a,{children:[Object(z.jsxs)(V.a,{children:["name: ",t.name]}),Object(z.jsxs)(V.a,{children:["gender: ",t.gender]}),Object(z.jsxs)(V.a,{children:["height: ",t.height]}),Object(z.jsxs)(V.a,{children:["mass: ",t.mass]}),Object(z.jsx)("img",{src:t.image,alt:"alt"})]})}):null},je=Object(Q.a)({root:{width:350,margin:"0 auto"},prop:{fontWeight:"bold",textTransform:"uppercase"},list:{margin:0},person:{cursor:"pointer",width:"fit-content"}}),le=function(){var e=je(),t=Object(N.g)().pathname,n=Object(N.f)(),a=Object(s.b)(),c=Object(s.c)((function(e){return e.details})),i=c.loading,o=c.error,u=c.planetInfo,j=c.personList;Object(r.useEffect)((function(){var e;a((e=t,function(){var t=Object(T.a)(_.a.mark((function t(n){var r,a,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:h}),t.prev=1,t.next=4,I(e);case 4:return r=t.sent,a=r.data,t.next=8,Promise.all(a.residents.map(function(){var e=Object(T.a)(_.a.mark((function e(t){var n,r,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:return n=e.sent,r=n.data,e.next=6,U(P(r.url));case 6:return a=e.sent,c=a.config,e.abrupt("return",{name:r.name,id:P(t),image:c.url,gender:r.gender,height:r.height,mass:r.mass});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:c=t.sent,n({type:f,info:a}),n(ie(c)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),n({type:x});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()))}),[a,t]);var l=Object(r.useState)({name:"",gender:"",height:"",mass:"",image:""}),p=Object(se.a)(l,2),b=p[0],d=p[1],O=Object(r.useState)(!1),m=Object(se.a)(O,2),g=m[0],v=m[1],y=function(e){v((function(e){return!e})),d(e)};return i?Object(z.jsx)(q,{}):o?Object(z.jsx)(re,{}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(te,{}),Object(z.jsx)(k.a,{variant:"contained",color:"secondary",onClick:function(){return n.push("/")},children:"go back"}),Object(z.jsx)(G.a,{className:e.root,children:Object(z.jsxs)(K.a,{children:[Object(z.jsxs)(V.a,{children:[Object(z.jsx)("span",{className:e.prop,children:"name:"}),u.name]}),Object(z.jsxs)(V.a,{children:[Object(z.jsx)("span",{className:e.prop,children:"rotation period:"}),u.rotation_period]}),Object(z.jsxs)(V.a,{children:[Object(z.jsx)("span",{className:e.prop,children:"diameter:"}),u.diameter]}),Object(z.jsxs)(V.a,{children:[Object(z.jsx)("span",{className:e.prop,children:"climate:"}),u.climate]}),Object(z.jsxs)(V.a,{children:[Object(z.jsx)("span",{className:e.prop,children:"gravity:"}),u.gravity]}),Object(z.jsxs)(V.a,{children:[Object(z.jsx)("span",{className:e.prop,children:"terrain:"}),u.terrain]}),Object(z.jsxs)(V.a,{children:[Object(z.jsx)("span",{className:e.prop,children:"population:"}),u.population]}),Object(z.jsxs)(V.a,{component:"div",children:[Object(z.jsx)("span",{className:e.prop,children:"residents:"}),j.length>0?Object(z.jsx)("ul",{className:e.list,children:j.map((function(t){return Object(z.jsx)("li",{className:e.person,onClick:function(){return y(t)},children:t.name},t.name)}))}):"-"]})]})}),Object(z.jsx)(oe.a,{onClose:y,open:g,children:Object(z.jsx)(ue,{person:b})})]})},pe=n(70),be=n(71),de=n(73),Oe=n(72),he=function(e){Object(de.a)(n,e);var t=Object(Oe.a)(n);function n(){var e;Object(pe.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(be.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(z.jsx)(re,{}):this.props.children}}]),n}(r.Component),fe=function(){var e=Object(s.b)();return Object(r.useEffect)((function(){e(M())}),[e]),Object(z.jsx)(he,{children:Object(z.jsxs)(N.c,{children:[Object(z.jsx)(N.a,{exact:!0,path:"/",component:ce}),Object(z.jsx)(N.a,{exact:!0,path:"/:id",component:le}),Object(z.jsx)(N.a,{render:function(){return Object(z.jsx)("h1",{children:"Page not found"})}})]})})};c.a.render(Object(z.jsx)(s.a,{store:w,children:Object(z.jsx)(i.a,{basename:"/obrio",children:Object(z.jsx)(fe,{})})}),document.getElementById("root"))}},[[112,1,2]]]);
//# sourceMappingURL=main.c3cd1761.chunk.js.map